财务模块备注弹窗组件
===
author:xuzengqiang  
date:2018-07-07 10:40:27  

## api
```
打开备注弹窗
open(dialog, option)
其中:
@param {Object} dialog - 弹窗参数
@param {Object} option - 备注参数,其中包含属性:
   @property {String} key - 需要新增的字段信息
   @property {Array} columns - 弹窗表格对应的列配置
   @property {Boolean} detail - 是否为详情页操作
   @property {Function} callback - 关闭弹窗之后的处理.会带上列表数据信息,用于回显
   @property {Function} load - 加载数据信息
   @property {Function} add - 新增备注.接收一个content,表示新增输入的值
   @property {Function|String} disable - 删除备注.接受一个当前备注行信息
   @property {Function} modify - 修改备注信息,接收两个参数,第一个为content.第二个为行信息
```

## demo
```html
<fms-remark ref="remark"></fms-remark>
```

```javascript
import FmsRemark from '@/fms/components/fms-remark'
import helpPayRemarkColumns from './help-pay-remark-columns'
export default {
  data() {
    return {
      // ...
      helpPayRemarkColumns
    }
  },
  components: {
    FmsRemark
  },
  methods: {
    // 修改页显示弹窗备注
    showHelpPayRemark() {
      this.$refs.remark.open(
        {
          title: '垫付说明'
        },
        {
          key: 'content',
          columns: this.helpPayRemarkColumns,
          load: async () => {
            const dataList = await this.$http('fms.otherIncomeRemark.list', {
              otherIncomeId: this.model.id
            })
            return dataList
          },
          add: async content => {
            await this.$http('fms.otherIncomeRemark.save', {
              otherIncomeId: this.model.id,
              content
            })
          },
          modify: async (content, row) => {
            await this.$http('fms.otherIncomeRemark.update', {
              id: row.id,
              otherIncomeId: this.model.id,
              content: content
            })
          },
          disable: async row => {
            await this.$http('fms.otherIncomeRemark.delete', {
              id: row.id
            })
          },
          callback: this.setHelpPayRemark
        }
      )
    }
  }
}
```

## help-pay-remark-columns.js
```javascript
export default [
  {
    label: '备注内容',
    key: 'content',
    tips: true,
    width: '228px'
  },
  {
    label: '录入人员',
    key: 'createdBy',
    width: '180px'
  },
  {
    label: '录入时间',
    key: 'creationDate',
    width: '180px',
    filter: 'minute'
  },
  {
    label: '最后修改人员',
    key: 'updatedBy',
    width: '180px'
  },
  {
    label: '最后修改时间',
    key: 'updationDate',
    width: '180px',
    filter: 'minute'
  }
]
```

如果是详情页,如果只做展示,那么只需要配置detail:true和load方法即可.
```
/**
 * 显示垫付说明
 * @date 2018-07-07 10:28:30
 * @since 1.0.1
 */
showHelpPayRemark () {
  this.$refs.remark.open(
    {
      title: '垫付说明'
    },
    {
      key: 'content',
      detail: true,
      columns: this.helpPayRemarkColumns,
      load: async () => {
        const dataList = await this.$http('fms.otherIncomeRemark.list', {
          otherIncomeId: this.model.id
        })
        return dataList
      }
    }
  )
}
```
